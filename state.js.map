{"version":3,"file":"state.js","sources":["src/state.js"],"sourcesContent":["/* Durruti\n * Shared state between client and server.\n */\n\nvar namespace = 'DURRUTI'\n\nfunction State () {\n  var data = {}\n\n  function get (key) {\n    if (typeof window !== 'undefined') {\n      if (window[namespace]) {\n        return window[namespace][key]\n      } else {\n        return null\n      }\n    } else {\n      return data[key]\n    }\n  }\n\n  function set (key, value) {\n    data[key] = value\n  }\n\n  function render () {\n    return `\n      ;(function(){\n        window['${namespace}'] = JSON.parse('${JSON.stringify(data)}')\n      }());\n    `\n  }\n\n  return {\n    get: get,\n    set: set,\n    render: render\n  }\n}\n\nexport default State()\n"],"names":[],"mappings":";;;;;;;;;;AAIA,EAAA,IAAI,YAAY,SAAhB;;AAEA,EAAA,SAAS,KAAT,GAAkB;AAChB,EAAA,MAAI,OAAO,EAAX;;AAEA,EAAA,WAAS,GAAT,CAAc,GAAd,EAAmB;AACjB,EAAA,QAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,EAAA,UAAI,OAAO,SAAP,CAAJ,EAAuB;AACrB,EAAA,eAAO,OAAO,SAAP,EAAkB,GAAlB,CAAP;AACD,EAAA,OAFD,MAEO;AACL,EAAA,eAAO,IAAP;AACD,EAAA;AACF,EAAA,KAND,MAMO;AACL,EAAA,aAAO,KAAK,GAAL,CAAP;AACD,EAAA;AACF,EAAA;;AAED,EAAA,WAAS,GAAT,CAAc,GAAd,EAAmB,KAAnB,EAA0B;AACxB,EAAA,SAAK,GAAL,IAAY,KAAZ;AACD,EAAA;;AAED,EAAA,WAAS,MAAT,GAAmB;AACjB,EAAA,wDAEc,SAFd,2BAE2C,KAAK,SAAL,CAAe,IAAf,CAF3C;AAKD,EAAA;;AAED,EAAA,SAAO;AACL,EAAA,SAAK,GADA;AAEL,EAAA,SAAK,GAFA;AAGL,EAAA,YAAQ;AAHH,EAAA,GAAP;AAKD,EAAA;;AAED,cAAe,OAAf;;;;"}