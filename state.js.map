{"version":3,"file":null,"sources":["/run/media/mokush/work/dev/durruti/src/state.js"],"sourcesContent":["/* Durruti\n * Shared state between client and server.\n */\n\nvar namespace = 'DURRUTI'\n\nvar data = {}\n\nexport default class State {\n  get (key) {\n    if (typeof window !== 'undefined') {\n      if (window[namespace]) {\n        return window[namespace][key]\n      } else {\n        return null\n      }\n    } else {\n      return data[key]\n    }\n  }\n\n  set (key, value) {\n    data[key] = value\n  }\n\n  render () {\n    return `\n      <script>\n      ;(function(){\n        window['${namespace}'] = ${JSON.stringify(data)}\n      }());\n      </script>\n    `\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;;;;AAIA,EAAA,IAAI,YAAY,SAAhB;;AAEA,EAAA,IAAI,OAAO,EAAX;;MAEqB;;;;;;;0BACd,KAAK;AACR,EAAA,UAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,EAAA,YAAI,OAAO,SAAP,CAAJ,EAAuB;AACrB,EAAA,iBAAO,OAAO,SAAP,EAAkB,GAAlB,CAAP;AACD,EAAA,SAFD,MAEO;AACL,EAAA,iBAAO,IAAP;AACD,EAAA;AACF,EAAA,OAND,MAMO;AACL,EAAA,eAAO,KAAK,GAAL,CAAP;AACD,EAAA;AACF,EAAA;;;0BAEI,KAAK,OAAO;AACf,EAAA,WAAK,GAAL,IAAY,KAAZ;AACD,EAAA;;;+BAES;AACR,EAAA,0EAGc,SAHd,cAG+B,KAAK,SAAL,CAAe,IAAf,CAH/B;AAOD,EAAA;;;;;;;"}