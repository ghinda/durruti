!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.skatejs-dom-diff=t()}(this,function(){function e(e){return"string"==typeof e?e:Array.isArray(e)?e.join(" "):Object.keys(e).filter(function(t){return e[t]?t:!1}).join(" ")}function t(e){return"string"==typeof e?e:Object.keys(e).map(function(t){return t+": "+e[t]+";"}).join(" ")}function n(e,t){return"class"===t?e.className:"style"===t?e.style.cssText:"type"!==t&&t in e?e[t]:e.getAttribute?e.getAttribute(t):e.attributes&&e.attributes[t]?e.attributes[t].value:void 0}function r(n,r,o){"class"===r?n.className=e(o):"style"===r&&(n.style={cssText:t(o)})}function o(e,t){"class"===t?e.className="":"style"===t?e.style.cssText="":"type"!==t&&t in e?e[t]="":e.removeAttribute?e.removeAttribute(t):e.attributes&&delete e.attributes[t]}function i(e,t,n){"class"===t?e.className=n:"style"===t?e.style.cssText=n:"type"!==t&&t in e||"string"!=typeof n?e[t]=null==n?"":n:e.setAttribute?e.setAttribute(t,n):e.attributes&&(e.attributes[e.attributes.length]=e.attributes[t]={name:t,value:n})}function a(e,t){var r=e.attributes,o=t.attributes,i=(r||0)&&r.length,a=(o||0)&&o.length,u=[];if(!i&&!a)return u;for(var s=0;i>s;s++){var f=r[s],d=f.name,c=n(e,d),l=o[d],p=n(t,d);l?c!==p&&u.push({data:{name:d,value:p},destination:t,source:e,type:V}):u.push({data:{name:d},destination:t,source:e,type:H})}for(var s=0;a>s;s++){var l=o[s],m=l.name,p=n(t,m),f=r[m];f||u.push({data:{name:m,value:p},destination:t,source:e,type:V})}return u}function u(e){var t=Q.get(e);return t||Q.set(e,t={}),t}function s(e,t){var n=t.events,r=u(e),o=[];if(r)for(var i in r)n&&n[i]!==r[i]&&o.push({data:{name:i,value:void 0},destination:t,source:e,type:W});if(n)for(var i in n){var a=n[i];r[i]!==a&&o.push({data:{name:i,value:a},destination:t,source:e,type:W})}return o}function f(e,t){return e.tagName===t.tagName?a(e,t).concat(s(e,t)):void 0}function d(e,t){return e.textContent===t.textContent?[]:[{destination:t,source:e,type:z}]}function c(e,t){var n=void 0,r=void 0;if(t&&e&&(n=t.nodeType,r=e.nodeType,n===r))return n===$?f(e,t):n===ee?d(e,t):n===Z?d(e,t):void 0}function l(e){return e instanceof re?e:te.get(e)}function p(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.source,n=e.destination,r=[];if(!t||!n)return[];for(var o=t.childNodes,i=n.childNodes,a=o?o.length:0,u=i?i.length:0,s=0;u>s;s++){var f=o[s],d=i[s];if(f){d instanceof Node||te.set(d,l(f));var m=c(f,d);if(m){var v=e;v.destination=d,v.source=f,r=r.concat(m,p(v))}else r.push({destination:d,source:f,type:U})}else r.push({destination:i[s],source:t,type:B})}if(a>u)for(var s=u;a>s;s++)r.push({destination:o[s],source:t,type:F});return r}function m(e){var t=document.createElement(e.tagName),n=e.attributes,r=e.events,o=u(t),a=e.childNodes;if(n)for(var s=n.length,f=0;s>f;f++){var d=n[f];i(t,d.name,d.value)}if(r)for(var c in r)t.addEventListener(c,o[c]=r[c]);if(a){for(var l=document.createDocumentFragment(),p=a.length,f=0;p>f;f++){var m=a[f];m&&l.appendChild(y(m))}t.appendChild&&t.appendChild(l)}return t}function v(e){return document.createTextNode(e.textContent)}function y(e){if(e instanceof Node)return e;if(Array.isArray(e)){var t=function(){var t=document.createDocumentFragment();return e.forEach(function(e){return t.appendChild(y(e))}),{v:t}}();if("object"===("undefined"==typeof t?"undefined":q["typeof"](t)))return t.v}var n=e.tagName?m(e):v(e);return te.set(e,n),n}function h(e,t){l(e).appendChild(y(t))}function b(e,t,n){o(l(e),n.name)}function g(e,t){var n=l(t),r=l(e);r.removeChild(n)}function N(e,t){var n=l(e);n&&n.parentNode&&n.parentNode.replaceChild(y(t),n)}function E(e,t,n){i(l(e),n.name,n.value)}function T(e,t,n){var r=l(e),o=u(r),i=n.name,a=o[i],s=n.value;"function"==typeof a&&(delete o[i],r.removeEventListener(i,a)),"function"==typeof s&&(o[i]=s,r.addEventListener(i,s))}function C(e,t){l(e).textContent=t.textContent}function A(e){oe[e.type](e.source,e.destination,e.data)}function k(e){e.forEach(A)}function w(e){var t=p(e);return k(t),t}function x(e){return{nodeType:3,textContent:e}}function j(e){var t={},n={},o={},i=0;for(var a in e){var u=e[a];0===a.indexOf("on")?n[a.substring(2)]=u:(t[i++]=t[a]={name:a,value:u},r(o,a,u))}return t.length=i,{attrs:t,events:n,node:o}}function _(e){var t=[];return Array.isArray(e)||(e=[e]),e.filter(Boolean).forEach(function(e){Array.isArray(e)?t=t.concat(_(e)):"object"===("undefined"==typeof e?"undefined":q["typeof"](e))?t.push(P(e)):t.push(x(e))}),t}function D(e){return("function"==typeof e?e.id||e.name:e).toUpperCase()}function L(e){return e&&("string"==typeof e||Array.isArray(e)||"number"==typeof e.nodeType||O(e))}function O(e){return e&&e.type&&e.props}function P(e){if(O(e)){var t=e.props,n=_(t.children);return delete t.children,{nodeType:1,tagName:e.type,attributes:t,childNodes:n}}return e}function R(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=L(t),r=j(n?{}:t),o=r.node;o.nodeType=1,o.tagName=D(e),o.attributes=r.attrs,o.events=r.events;for(var i=arguments.length,a=Array(i>2?i-2:0),u=2;i>u;u++)a[u-2]=arguments[u];return o.childNodes=_(n?[t].concat(a):a),o}function S(e){for(;e.firstChild;){var t=e.firstChild;t.parentNode.removeChild(t)}}function I(e,t){S(e),e.appendChild(y(t))}function M(e){return function(t){if(t=t instanceof ae?t:this,!t instanceof ae)throw new Error("No node provided to diff renderer as either the first argument or the context.");var n=R("div",null,e(t)),r=ue.get(t);r?w({destination:n,source:r}):I(t,n.childNodes),ue.set(t,n)}}var q={};q["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var B=1,F=2,H=3,U=4,V=5,W=6,Y=7,z=8,K=Object.freeze({APPEND_CHILD:B,REMOVE_CHILD:F,REMOVE_ATTRIBUTE:H,REPLACE_CHILD:U,SET_ATTRIBUTE:V,SET_EVENT:W,SET_PROPERTY:Y,TEXT_CONTENT:z}),X=0,G="__WEAK_MAP_POLYFILL_",J=function(){function e(){this.key=G+X,++X}return"undefined"!=typeof WeakMap?WeakMap:(e.prototype={get:function(e){return e[this.key]},set:function(e,t){e[this.key]=t}},e)}(),Q=new J,Z=8,$=1,ee=3,te=new J,ne=window,re=ne.Node,oe={};oe[B]=h,oe[H]=b,oe[F]=g,oe[U]=N,oe[V]=E,oe[W]=T,oe[z]=C,R.array=_,["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","multicol","nav","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].forEach(function(e){R[e]=R.bind(null,e)});var ie=window,ae=ie.Node,ue=new J,se={dom:y,element:R,mount:I,text:x},fe="0.3.1",de={diff:p,merge:w,patch:k,render:M,types:K,vdom:se,version:fe},ce=window.skatejsDomDiff;return de.noConflict=function(){return window.skatejsDomDiff=ce,this},window.skatejsDomDiff=de,de});
//# sourceMappingURL=index.min.js.map
